'use strict';

function getargs(interaction) {
  const subcommand = [];
  const params = {};

  const processOptions = (option) => {
    if([1,2].includes(option.type)) {
      subcommand.push(option.name);
      (option.options ?? []).forEach(processOptions);
    } else {
      params[option.name] = option.value;
    }
  };

  (interaction.data.options ?? []).forEach(processOptions);

  return {subcommand, params};
}

module.exports = { getargs };

